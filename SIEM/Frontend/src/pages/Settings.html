<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Settings</title>
  <style>
    body { background:#1e1e2f; color:#fff; font-family: Arial, sans-serif; margin:0; }
    header { background:#111; padding:10px 20px; color:#4fc3f7; }
    .container { padding:20px; }
    h2 { border-bottom:1px solid #444; padding-bottom:5px; }
    ul { list-style:none; padding:0; }
    li { margin:5px 0; }
  </style>
</head>
<body>
  <header><h1>Settings
    <nav style="background:#222; padding:10px; display:flex; gap:15px;">
  <a href="dashboard.html" style="color:#fff; text-decoration:none;">Dashboard</a>
  <a href="alerts.html" style="color:#fff; text-decoration:none;">Alerts</a>
  <a href="search.html" style="color:#fff; text-decoration:none;">Search</a>
  <a href="incidents.html" style="color:#fff; text-decoration:none;">Incidents</a>
  <a href="reports.html" style="color:#fff; text-decoration:none;">Reports</a>
  <a href="settings.html" style="color:#fff; text-decoration:none;">Settings</a>
</nav>

  </h1></header>
  <div class="container">
    <h2>Users</h2>
    <ul id="users"></ul>

    <h2>Rules</h2>
    <ul id="rules"></ul>
  </div>
  <script>
    async function loadSettings() {
      const resUsers = await fetch('/api/users');
      const users = await resUsers.json();
      const resRules = await fetch('/api/rules');
      const rules = await resRules.json();

      const ulist = document.getElementById('users');
      users.forEach(u => {
        const li = document.createElement('li');
        li.textContent = `${u.username} (${u.role})`;
        ulist.appendChild(li);
      });

      const rlist = document.getElementById('rules');
      rules.forEach(r => {
        const li = document.createElement('li');
        li.textContent = `${r.id} - ${r.name} [${r.enabled ? 'ENABLED' : 'DISABLED'}]`;
        rlist.appendChild(li);
      });
    }
    loadSettings();
  </script>
</body>
</html>
